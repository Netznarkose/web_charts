<%= simple_form_for(@chart, html: { class: :chart_form }) do |f| %>
  <div class="row">
    <div class="col-sm-12">
      <%= render 'shared/error_messages', object: f.object %>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4">
      <% if @chart.persisted? %>
        <div class="well">
          <img src="<%= chart_path(@chart) %>" style="width: 100%;">
        </div>
      <% end %>
      <div class="well">
        <%= f.input(:title) %>
        <%= f.input(:background_color, input_html: { class: :minicolors } ) %>
        <%= f.input(:columns, collection: (1..100), prompt: true) %>
        <%= f.input(:grouplabels) %>
        <%= f.input(:item_height) %>
        <%= f.input(:item_width) %>
        <%= f.input(:file_type, collection: [['PNG', :png], ['SVG', :svg]], prompt: true) %>
        <%= f.input(:width) %>
        <%= f.input(:height) %>
        <%= f.input(:style, collection: [
          ['Circle', :circle],
          ['Cross', :cross],
          ['Manikin', :manikin],
          ['Bar', :bar],
          ['Pie', :pie]
        ],
        prompt: true) %>
      <%= f.submit class: 'btn btn-primary' %>
      </div>
    </div>
    <div class="col-sm-8 data-column">
      <div class="well">
        <table>
          <colgroup>
            <col style="width:15%">
            <col style="width:40%">
            <col style="width:25%">
            <col style="width:20%">
          </colgroup>
          <thead>
            <th>
              Value
            </th>
            <th>
              Label
            </th>
            <th>
              Color
            </th>
            <th>
            </th>
          </thead>
          <tbody>
            <%= f.simple_fields_for :data do |datum| %>
              <%= render 'datum_fields', f: datum %>
            <% end %>
          </tbody>
        </table>
        <hr>
        <div class="links">
          <%= link_to_add_association 'Add row', f, :data, class: "btn btn-default" %>
          <%= f.submit class: 'btn btn-primary' %>
        </div>
      </div>
    </div>
  </div>
<% end %>
